@using Models.Metadata
@model IEnumerable<Models.Contexts.CMSIF2.ColDomain>
@{
    Layout = "_Layout.cshtml";
    
    // Due to the life course not being at the root of the tree, it is necessary to employ some hacks to work as if it were
    string language = ViewContext.RouteData.Values["language"].ToString();


}

    <div class="row">
        <div class="col-md-8">
            <p>Some text goes here</p>
        </div>
        <div class="col-md-4">
        @switch (language) {
            case "en-ca":
                    @:<figure class="thumbnail">
                        @:<a href="https://www.canada.ca/en/public-health/services/reports-publications/health-promotion-chronic-disease-prevention-canada-research-policy-practice/vol-39-no-5-2019/conceptualizing-framework-for-surveillance-physical-activity-sedentary-behaviour-and-sleep.html"><img src='@Url.Content("~/img/pass-thumbnail-en.jpg")' width="350" height="350" alt="Current physical activity, sedentary behaviour and sleep (PASS) visual model of the conceptual framework for surveillance in Canada "></a>
                        @:<figcaption class="caption">
                            @:<p><strong>The <a href="https://www.canada.ca/en/public-health/services/reports-publications/health-promotion-chronic-disease-prevention-canada-research-policy-practice/vol-39-no-5-2019/conceptualizing-framework-for-surveillance-physical-activity-sedentary-behaviour-and-sleep.html">PASS visual model of the conceptual framework for surveillance</a> is also available.</strong></p>
                        @:</figcaption>
                    @:</figure>
                break;
            case "fr-ca":
                    @:<figure class="thumbnail">
                        @:<a href="https://www.canada.ca/fr/sante-publique/services/rapports-publications/promotion-sante-prevention-maladies-chroniques-canada-recherche-politiques-pratiques/vol-39-no-5-2019/conceptualisation-cadre-surveillance-activite-physique-comportement-sedentaire-et-sommeil.html"><img src='@Url.Content("~/img/pass-thumbnail-fr.jpg")' width="350" height="350" alt="Figure 2. Nouveau modèle visuel du cadre conceptuel de surveillance de l’activité physique, du comportement sédentaire et du sommeil (APCSS) au Canada"></a>
                        @:<figcaption class="caption">
                            @:<p><strong>Le modèle visuel du <a href="https://www.canada.ca/fr/sante-publique/services/rapports-publications/promotion-sante-prevention-maladies-chroniques-canada-recherche-politiques-pratiques/vol-39-no-5-2019/conceptualisation-cadre-surveillance-activite-physique-comportement-sedentaire-et-sommeil.html">cadre conceptuel de surveillance de l'APCSS</a> est aussi disponible.</strong></p>
                        @:</figcaption>
                    @:</figure>
                break;
        }
        </div>
    </div>
    <br>

@switch (language) {
            case "en-ca":
                @:<h2>Quick Stats Overview</h2>
                @:<p>For more information about each indicator, click on the categories below:</p>
                break;
            case "fr-ca":
                @:<h2>Statistiques rapides</h2>
	            @:<p>Vous pouvez obtenir des informations supplémentaires sur ces indicateurs en cliquant sur les catégories ci-dessous :</p>
                break;
        }
<div>
            @foreach (var domain in Model)
            {
                <details>
                    <summary>@domain.ColDomainNameEn</summary>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover table-bordered">
                            <thead>
                                <tr>
                                    
                                    <th class="width-20" scope="col">Indicator Group</th>
                                    <th class="width-30" scope="col">Indicator Measure(s)</th>
                                    <th class="width-10" scope="col">Latest Estimate</th>
                                    <th class="width-20" scope="col">Source (Year)</th>
                                    <th scope="col">Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var indicatorGroup in domain.ColIndicators)
                                {
                                    @foreach (var measure in indicatorGroup.ColMeasures) {
                                        <tr>
                                        @if (measure == indicatorGroup.ColMeasures.First()) {
                                            <td rowspan="@indicatorGroup.ColMeasures.Count()">@indicatorGroup.ColIndicatorNameEn</td>
                                        }
                                        <td>@measure.ColMeasuresNameEn</td>
                                        <td>@measure.DefaultColDataBreakdowns.DefaultColDisaggregation.ValueAverage %</td>
                                        <td>@measure.ColDataSourceEn</td>
                                        <td>Open Description</td>
                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>
                    </div>
                </details>

            }
    </div>
</div>
<div class="clearfix"></div>
<br/>
<div class="col-sm-12">
<div class="panel panel-info">
    <div class="panel-heading">
        <h2 class="panel-title">Notes</h2>
    </div>
    <div class="panel-body small">
        <ul class="list-unstyled">
            <li><strong>Abbreviations:</strong> CCHS-Annual = Canadian Community Health Survey – Annual Component; CCHS-MH = Canadian Community Health Survey – Mental Health; CINS = Canadian Income Survey; HBSC = Health Behaviour in School-aged Children; CIS = Canadian Incidence Study of Reported Child Abuse and Neglect; CVS = Canadian Vital Statistics – Birth Database (excluding Quebec); eCHIRPP = electronic Canadian Hospital Injury Reporting and Prevention Program; GSS = General Social Survey; SYC-Child = Survey of Young Canadians – Child questionnaire ; SYC-MKP = Survey of Young Canadians – Most-Knowledgeable Person questionnaire; UCR = Uniform Crime Reporting Survey.</li>
            <li><strong>Note:</strong> “In development” refers to measures where their data source is currently not available or that more research is needed to identify a promising measure and data source.</li>
            <li><strong>GSS:</strong> The estimates in this indicator framework are consistent with those from the Family Violence in Canada: A statistical profile, 2015 report from Statistics Canada, which reports higher estimates than those from the guidelines for the Childhood Experiences of Violence Questionnaire (CEVQ). The first includes all positive responses to all child maltreatment questions. The latter includes all positive responses, except for two of the physical abuse subtypes (the less severe ones) and exposure to intimate partner violence if it occurred less than 3 times.</a></li>			
          
            </ul>
    </div>
</div>